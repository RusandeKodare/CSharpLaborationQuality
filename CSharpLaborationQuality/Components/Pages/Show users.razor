@using BlazorClassLibrary
@using BlazorClassLibrary.Collections
@page "/showusers"
@rendermode InteractiveServer

@if (_loading)
{
 <Show_users_razor/>
}
else
{ 
    <TableLab FilteredUsers="FilteredUsers" Users="Users"/>
}
@code {

    public List<User> Users = new List<User>();
    public List<User> FilteredUsers = new List<User>();
    private string _loadingMessage = "";
    private bool _loading = true;

    protected override async Task OnInitializedAsync()
    {
        ApiCollection api = new ApiCollection();
        LoadData();
        Users = await api.GetUsers();
        FilteredUsers.AddRange(Users);
    }
    private async Task LoadData()
    {
        _loadingMessage = "Loading";
        await Task.Delay(4000);
        _loading = false;
        StateHasChanged();
    }
}
